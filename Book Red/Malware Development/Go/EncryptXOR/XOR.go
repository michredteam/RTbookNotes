package main

import (
	"bufio"
	"fmt"
	"github.com/fatih/color"
	"io/ioutil"
	"os"
)

func xor(buf []byte, xorchar byte) []byte {
	res := make([]byte, len(buf))
	for i := 0; i < len(buf); i++ {
		res[i] = xorchar ^ buf[i]
	}
	return res
}

func main() {
	bannar := `




███████╗███╗░░██╗░█████╗░██████╗░██╗░░░██╗██████╗░████████╗  ██╗░░██╗░█████╗░██████╗░
██╔════╝████╗░██║██╔══██╗██╔══██╗╚██╗░██╔╝██╔══██╗╚══██╔══╝  ╚██╗██╔╝██╔══██╗██╔══██╗
█████╗░░██╔██╗██║██║░░╚═╝██████╔╝░╚████╔╝░██████╔╝░░░██║░░░  ░╚███╔╝░██║░░██║██████╔╝
██╔══╝░░██║╚████║██║░░██╗██╔══██╗░░╚██╔╝░░██╔═══╝░░░░██║░░░  ░██╔██╗░██║░░██║██╔══██╗
███████╗██║░╚███║╚█████╔╝██║░░██║░░░██║░░░██║░░░░░░░░██║░░░  ██╔╝╚██╗╚█████╔╝██║░░██║
╚══════╝╚═╝░░╚══╝░╚════╝░╚═╝░░╚═╝░░░╚═╝░░░╚═╝░░░░░░░░╚═╝░░░  ╚═╝░░╚═╝░╚════╝░╚═╝░░╚═╝
                                       # 3xploit  #  

`
	color.Green(string(bannar))
	fmt.Print("Insert Path File > ")
	scan := bufio.NewScanner(os.Stdin)
	scan.Scan()
	data, err := ioutil.ReadFile(scan.Text())
	if err != nil {

		fmt.Println(err)
	}

	encrypt := xor(data, 31)
	//fmt.Println("file in xor only ", encrypt)

	//key := make([]byte, 32)
	//nonce := make([]byte, 12)
	//rand.Read(key)
	//rand.Read(nonce)

	//raw2 := cipher.Encrypt(encrypt,key,nonce)
	//color.Blue("key " + base64.StdEncoding.EncodeToString(key))
	//color.Blue("nonce " +base64.StdEncoding.EncodeToString(nonce))
	//color.Blue("Payload " +base64.StdEncoding.EncodeToString(raw2))

	//fmt.Println(raw2)

	//err = ioutil.WriteFile("cursobin.bin", []byte(base64.StdEncoding.EncodeToString(encrypt)), 0777)
	//if err != nil {
	//	fmt.Println(err)
	//}

	err = ioutil.WriteFile("Encrypted.bin", encrypt, 0777)
	if err != nil {
		fmt.Println(err)
	}

}
