from multiprocessing  import Process
import os
import time

def startHTTPServer():
    try:
        # Python 2
        from SimpleHTTPServer import SimpleHTTPRequestHandler
        import SocketServer
        httpd = SocketServer.TCPServer(("0.0.0.0", 8000), SimpleHTTPRequestHandler)
    except ImportError:
        # Python 3
        from http.server import HTTPServer, SimpleHTTPRequestHandler
        httpd = HTTPServer(('0.0.0.0', 8000), SimpleHTTPRequestHandler)      
    httpd.serve_forever()


def startSMBServer():
    smb = 'bash -c "impacket-smbserver myServer . -smb2support"'
    from subprocess import call
    call(smb,shell=True)


webProcess = Process(target=startHTTPServer)
webProcess.start()
smbProcess = Process(target=startSMBServer)
smbProcess.start()

n=0
while True:
    print(n)
    n+=1
    time.sleep(1)
